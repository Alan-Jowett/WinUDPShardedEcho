<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WinUDPShardedEcho: src/common/socket_utils.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WinUDPShardedEcho<span id="projectnumber">&#160;main</span>
   </div>
   <div id="projectbrief">A reference implementation of a highly scalable Windows UDP echo server using Winsock + IOCP with SIO_CPU_AFFINITY and one worker thread per CPU to align NIC RSS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('socket__utils_8hpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">socket_utils.hpp</div></div>
</div><!--header-->
<div class="contents">
<a href="socket__utils_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span> </div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#ifndef WIN32_LEAN_AND_MEAN</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno"><a class="line" href="socket__utils_8hpp.html#ac7bef5d85e3dcd73eef56ad39ffc84a9">   17</a></span><span class="preprocessor">#define WIN32_LEAN_AND_MEAN</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">// clang-format off -- to keep the include order</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;winsock2.h&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">// clang-format on</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;mswsock.h&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;wil/resource.h&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &lt;windows.h&gt;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;ws2tcpip.h&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span> </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &lt;atomic&gt;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &lt;format&gt;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &lt;thread&gt;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="comment">// Packet header for tracking sequence numbers</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#pragma pack(push, 1)</span></div>
<div class="foldopen" id="foldopen00048" data-start="{" data-end="};">
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno"><a class="line" href="structpacket__header.html">   48</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structpacket__header.html">packet_header</a> {</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="structpacket__header.html#a74867188a993e51130b22b2a632c77a4">   50</a></span>    uint64_t <a class="code hl_variable" href="structpacket__header.html#a74867188a993e51130b22b2a632c77a4">sequence_number</a>;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="structpacket__header.html#afbe1c426329b5aa1b730cf566dc45f83">   52</a></span>    uint64_t <a class="code hl_variable" href="structpacket__header.html#afbe1c426329b5aa1b730cf566dc45f83">timestamp_ns</a>;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>};</div>
</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="preprocessor">#pragma pack(pop)</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="socket__utils_8hpp.html#a9832c8b70a5297ecd72cdaae4a58d45d">   57</a></span><span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> <a class="code hl_variable" href="socket__utils_8hpp.html#a9832c8b70a5297ecd72cdaae4a58d45d">MAX_PACKET_SIZE</a> = 65507;  <span class="comment">// Max UDP payload size</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="socket__utils_8hpp.html#a583f687ec76654049acae67dc9d6288f">   59</a></span><span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> <a class="code hl_variable" href="socket__utils_8hpp.html#a583f687ec76654049acae67dc9d6288f">HEADER_SIZE</a> = <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structpacket__header.html">packet_header</a>);</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="socket__utils_8hpp.html#a9debea2742a938b16b6f5c125a6eaab8">   61</a></span><span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> <a class="code hl_variable" href="socket__utils_8hpp.html#a9debea2742a938b16b6f5c125a6eaab8">MAX_PAYLOAD_SIZE</a> = <a class="code hl_variable" href="socket__utils_8hpp.html#a9832c8b70a5297ecd72cdaae4a58d45d">MAX_PACKET_SIZE</a> - <a class="code hl_variable" href="socket__utils_8hpp.html#a583f687ec76654049acae67dc9d6288f">HEADER_SIZE</a>;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span> </div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="comment">// Shared configuration constants</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="socket__utils_8hpp.html#a039f815ac1325125001b5632a11bde14">   65</a></span><span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> <a class="code hl_variable" href="socket__utils_8hpp.html#a039f815ac1325125001b5632a11bde14">OUTSTANDING_OPS</a> = 16;  <span class="comment">// Number of outstanding I/O operations per socket</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="socket__utils_8hpp.html#a4654d03c0934fb2f6dbf7eacb28c91a4">   67</a></span><span class="keyword">constexpr</span> DWORD <a class="code hl_variable" href="socket__utils_8hpp.html#a4654d03c0934fb2f6dbf7eacb28c91a4">IOCP_TIMEOUT_MS</a> = 10;  <span class="comment">// IOCP polling timeout in milliseconds</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="socket__utils_8hpp.html#a152d6035510845597230205a9e09d606">   69</a></span><span class="keyword">constexpr</span> DWORD <a class="code hl_variable" href="socket__utils_8hpp.html#a152d6035510845597230205a9e09d606">IOCP_SHUTDOWN_TIMEOUT_MS</a> = 1000;  <span class="comment">// IOCP timeout for shutdown check</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528">   75</a></span><span class="keyword">enum class</span> <a class="code hl_enumeration" href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528">io_operation_type</a> { <a class="code hl_enumvalue" href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528af701fee85540b78d08cb276d14953d58">recv</a>, <a class="code hl_enumvalue" href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528a2541d938b0a58946090d7abdde0d3890">send</a> };</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span> </div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="comment">// Define RAII wrapper for SOCKET</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">   78</a></span><span class="keyword">using </span><a class="code hl_typedef" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> = wil::unique_socket;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="socket__utils_8hpp.html#ad3e10b402cca9fffa66cda3d2f62b18a">   80</a></span><span class="keyword">using </span><a class="code hl_typedef" href="socket__utils_8hpp.html#ad3e10b402cca9fffa66cda3d2f62b18a">unique_iocp</a> = wil::unique_handle;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span> </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="socket__utils_8hpp.html#a38372d7e282e7807a0980651dcda3f2c">   82</a></span><span class="keyword">using </span><a class="code hl_typedef" href="socket__utils_8hpp.html#a38372d7e282e7807a0980651dcda3f2c">unique_event</a> = wil::unique_handle;</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="foldopen" id="foldopen00087" data-start="{" data-end="};">
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="classsocket__exception.html">   87</a></span><span class="keyword">class </span><a class="code hl_class" href="classsocket__exception.html">socket_exception</a> : <span class="keyword">public</span> std::runtime_error {</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>   <span class="keyword">public</span>:</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno"><a class="line" href="classsocket__exception.html#a7aa56e14c33b84adb73fb5810039d2b8">   89</a></span>    <span class="keyword">explicit</span> <a class="code hl_function" href="classsocket__exception.html#a7aa56e14c33b84adb73fb5810039d2b8">socket_exception</a>(<span class="keyword">const</span> std::string&amp; message) : std::runtime_error(message) {}</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>};</div>
</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span> </div>
<div class="foldopen" id="foldopen00100" data-start="{" data-end="};">
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno"><a class="line" href="structio__context.html">  100</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structio__context.html">io_context</a> : OVERLAPPED {</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="structio__context.html#ad547a7626bf26f4b8f1e248fba865bbb">  102</a></span>    <a class="code hl_enumeration" href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528">io_operation_type</a> <a class="code hl_variable" href="structio__context.html#ad547a7626bf26f4b8f1e248fba865bbb">operation</a>;</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno"><a class="line" href="structio__context.html#a50f74bb841423e757c44b56d953a80fb">  104</a></span>    WSABUF <a class="code hl_variable" href="structio__context.html#a50f74bb841423e757c44b56d953a80fb">wsa_buf</a>;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="structio__context.html#acf6afeb47a6c550ec12a8db0b928d4f9">  106</a></span>    std::vector&lt;char&gt; <a class="code hl_variable" href="structio__context.html#acf6afeb47a6c550ec12a8db0b928d4f9">buffer</a>;</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="structio__context.html#a54ad6beeb0d087217037830d2ed43ec7">  108</a></span>    sockaddr_storage <a class="code hl_variable" href="structio__context.html#a54ad6beeb0d087217037830d2ed43ec7">remote_addr</a>;</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno"><a class="line" href="structio__context.html#afee31663e9aad2679e51cac8817f17f4">  110</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structio__context.html#afee31663e9aad2679e51cac8817f17f4">remote_addr_len</a>;</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span> </div>
<div class="foldopen" id="foldopen00112" data-start="{" data-end="}">
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="structio__context.html#a74a07d27876dfa43e2178db0c1d7f111">  112</a></span>    <a class="code hl_function" href="structio__context.html#a74a07d27876dfa43e2178db0c1d7f111">io_context</a>()</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>        : OVERLAPPED{}, <a class="code hl_variable" href="structio__context.html#ad547a7626bf26f4b8f1e248fba865bbb">operation</a>{<a class="code hl_enumeration" href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528">io_operation_type</a>::<a class="code hl_enumvalue" href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528af701fee85540b78d08cb276d14953d58">recv</a>}, <a class="code hl_variable" href="structio__context.html#afee31663e9aad2679e51cac8817f17f4">remote_addr_len</a>{sizeof(<a class="code hl_variable" href="structio__context.html#a54ad6beeb0d087217037830d2ed43ec7">remote_addr</a>)} {</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>        <a class="code hl_variable" href="structio__context.html#acf6afeb47a6c550ec12a8db0b928d4f9">buffer</a>.resize(<a class="code hl_variable" href="socket__utils_8hpp.html#a9832c8b70a5297ecd72cdaae4a58d45d">MAX_PACKET_SIZE</a>);</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>        <a class="code hl_variable" href="structio__context.html#a50f74bb841423e757c44b56d953a80fb">wsa_buf</a>.buf = <a class="code hl_variable" href="structio__context.html#acf6afeb47a6c550ec12a8db0b928d4f9">buffer</a>.data();</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        <a class="code hl_variable" href="structio__context.html#a50f74bb841423e757c44b56d953a80fb">wsa_buf</a>.len = <span class="keyword">static_cast&lt;</span>ULONG<span class="keyword">&gt;</span>(<a class="code hl_variable" href="structio__context.html#acf6afeb47a6c550ec12a8db0b928d4f9">buffer</a>.size());</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        std::memset(&amp;<a class="code hl_variable" href="structio__context.html#a54ad6beeb0d087217037830d2ed43ec7">remote_addr</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="structio__context.html#a54ad6beeb0d087217037830d2ed43ec7">remote_addr</a>));</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    }</div>
</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>};</div>
</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span> </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span><span class="keywordtype">void</span> <a class="code hl_function" href="socket__utils_8hpp.html#aa5728a3989e32ddfadaa8ffb68f8b856">initialize_winsock</a>();</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span> </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span><span class="keywordtype">void</span> <a class="code hl_function" href="socket__utils_8hpp.html#a613a0788ce65dc73402a9750f68ac8cb">cleanup_winsock</a>();</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><a class="code hl_typedef" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> <a class="code hl_function" href="socket__utils_8hpp.html#aa8f857e179dcf9f759d1c9bf85bd1b3c">create_udp_socket</a>(<span class="keywordtype">int</span> family = AF_INET);</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span> </div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span><span class="keywordtype">void</span> <a class="code hl_function" href="socket__utils_8hpp.html#aba953de4c07bd7006485e12a3ea8a09f">set_socket_cpu_affinity</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a>&amp; sock, uint16_t processor_id);</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span> </div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><a class="code hl_typedef" href="socket__utils_8hpp.html#ad3e10b402cca9fffa66cda3d2f62b18a">unique_iocp</a> <a class="code hl_function" href="socket__utils_8hpp.html#a72a446f3b31a096288652a4d72008fc2">create_iocp</a>();</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span> </div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><a class="code hl_typedef" href="socket__utils_8hpp.html#ad3e10b402cca9fffa66cda3d2f62b18a">unique_iocp</a> <a class="code hl_function" href="socket__utils_8hpp.html#a80e28ba6030cccb16bb546b4367bc339">create_iocp_and_associate</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a>&amp; sock);</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span><span class="keywordtype">void</span> <a class="code hl_function" href="socket__utils_8hpp.html#aed28ad6d08e188ae40a1241d7dce46fe">associate_socket_with_iocp</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a>&amp; sock, <a class="code hl_typedef" href="socket__utils_8hpp.html#ad3e10b402cca9fffa66cda3d2f62b18a">unique_iocp</a>&amp; iocp,</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>                                ULONG_PTR completion_key);</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span> </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><span class="keywordtype">void</span> <a class="code hl_function" href="socket__utils_8hpp.html#ad3dcef2fa26afe910d48f0b95d0d48ae">set_file_completion_notification_modes</a>(HANDLE handle,</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>                                            UCHAR flags = FILE_SKIP_SET_EVENT_ON_HANDLE);</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span><span class="keywordtype">void</span> <a class="code hl_function" href="socket__utils_8hpp.html#af3f20a9ce53c3700dde9180dff139d72">set_thread_affinity</a>(uint32_t processor_id);</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span> </div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>uint32_t <a class="code hl_function" href="socket__utils_8hpp.html#a187c3884d0329fcb430acca9bd5b5475">get_processor_count</a>();</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span><span class="keywordtype">void</span> <a class="code hl_function" href="socket__utils_8hpp.html#a255bf86bb4efe3c63ef792c04861631f">bind_socket</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a>&amp; sock, uint16_t port, <span class="keywordtype">int</span> family = AF_INET);</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span><span class="keywordtype">void</span> <a class="code hl_function" href="socket__utils_8hpp.html#ad848fbdcf1ba3d815930644454f25817">set_socket_option</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a>&amp; sock, <span class="keywordtype">int</span> level, <span class="keywordtype">int</span> optname, <span class="keyword">const</span> <span class="keywordtype">char</span>* optval,</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>                       <span class="keywordtype">int</span> optlen);</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span><span class="keywordtype">void</span> <a class="code hl_function" href="socket__utils_8hpp.html#a60a0eb7e6ded37c0b5a69030a0ce2499">post_recv</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a>&amp; sock, <a class="code hl_struct" href="structio__context.html">io_context</a>* ctx);</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span><span class="keywordtype">void</span> <a class="code hl_function" href="socket__utils_8hpp.html#accd850ed5ced16a59cf904f592e12abf">post_send</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a>&amp; sock, <a class="code hl_struct" href="structio__context.html">io_context</a>* ctx, <span class="keyword">const</span> <span class="keywordtype">char</span>* data, <span class="keywordtype">size_t</span> len,</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>               <span class="keyword">const</span> sockaddr* dest_addr, <span class="keywordtype">int</span> dest_addr_len);</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span><span class="keywordtype">int</span> <a class="code hl_function" href="socket__utils_8hpp.html#a3732f25dba195f242cc166347f1c3c5c">send_sync</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a>&amp; sock, <span class="keyword">const</span> <span class="keywordtype">char</span>* data, <span class="keywordtype">size_t</span> len, <span class="keyword">const</span> sockaddr* dest_addr,</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>              <span class="keywordtype">int</span> dest_addr_len);</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>uint64_t <a class="code hl_function" href="socket__utils_8hpp.html#a39b87de7e582017d965787fa97e41f79">get_timestamp_ns</a>();</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>std::pair&lt;sockaddr_storage, int&gt; <a class="code hl_function" href="socket__utils_8hpp.html#a507f86978c8a91c38a2f03302f7ac459">get_socket_name</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a>&amp; sock);</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>std::string <a class="code hl_function" href="socket__utils_8hpp.html#a9079ca5e394407fd979f6ca4fd748af3">get_last_error_message</a>();</div>
<div class="ttc" id="aclasssocket__exception_html"><div class="ttname"><a href="classsocket__exception.html">socket_exception</a></div><div class="ttdoc">Exception type thrown on socket-related failures.</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:87</div></div>
<div class="ttc" id="aclasssocket__exception_html_a7aa56e14c33b84adb73fb5810039d2b8"><div class="ttname"><a href="classsocket__exception.html#a7aa56e14c33b84adb73fb5810039d2b8">socket_exception::socket_exception</a></div><div class="ttdeci">socket_exception(const std::string &amp;message)</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:89</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a039f815ac1325125001b5632a11bde14"><div class="ttname"><a href="socket__utils_8hpp.html#a039f815ac1325125001b5632a11bde14">OUTSTANDING_OPS</a></div><div class="ttdeci">constexpr size_t OUTSTANDING_OPS</div><div class="ttdoc">Number of simultaneous outstanding asynchronous I/O operations per socket.</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:65</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a152d6035510845597230205a9e09d606"><div class="ttname"><a href="socket__utils_8hpp.html#a152d6035510845597230205a9e09d606">IOCP_SHUTDOWN_TIMEOUT_MS</a></div><div class="ttdeci">constexpr DWORD IOCP_SHUTDOWN_TIMEOUT_MS</div><div class="ttdoc">Timeout used specifically during shutdown checks on the IOCP.</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:69</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a187c3884d0329fcb430acca9bd5b5475"><div class="ttname"><a href="socket__utils_8hpp.html#a187c3884d0329fcb430acca9bd5b5475">get_processor_count</a></div><div class="ttdeci">uint32_t get_processor_count()</div><div class="ttdoc">Query the number of logical processors available on the system.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:208</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a255bf86bb4efe3c63ef792c04861631f"><div class="ttname"><a href="socket__utils_8hpp.html#a255bf86bb4efe3c63ef792c04861631f">bind_socket</a></div><div class="ttdeci">void bind_socket(const unique_socket &amp;sock, uint16_t port, int family=AF_INET)</div><div class="ttdoc">Bind a UDP socket to the given port and address family.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:222</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a33fbd73132e371fc1ff01523baa1838d"><div class="ttname"><a href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a></div><div class="ttdeci">wil::unique_socket unique_socket</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:78</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a3732f25dba195f242cc166347f1c3c5c"><div class="ttname"><a href="socket__utils_8hpp.html#a3732f25dba195f242cc166347f1c3c5c">send_sync</a></div><div class="ttdeci">int send_sync(const unique_socket &amp;sock, const char *data, size_t len, const sockaddr *dest_addr, int dest_addr_len)</div><div class="ttdoc">Synchronously send a UDP datagram using sendto.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:337</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a38372d7e282e7807a0980651dcda3f2c"><div class="ttname"><a href="socket__utils_8hpp.html#a38372d7e282e7807a0980651dcda3f2c">unique_event</a></div><div class="ttdeci">wil::unique_handle unique_event</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:82</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a39b87de7e582017d965787fa97e41f79"><div class="ttname"><a href="socket__utils_8hpp.html#a39b87de7e582017d965787fa97e41f79">get_timestamp_ns</a></div><div class="ttdeci">uint64_t get_timestamp_ns()</div><div class="ttdoc">Return a monotonic timestamp in nanoseconds.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:367</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a4654d03c0934fb2f6dbf7eacb28c91a4"><div class="ttname"><a href="socket__utils_8hpp.html#a4654d03c0934fb2f6dbf7eacb28c91a4">IOCP_TIMEOUT_MS</a></div><div class="ttdeci">constexpr DWORD IOCP_TIMEOUT_MS</div><div class="ttdoc">Timeout in milliseconds used when polling an IOCP for events.</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:67</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a507f86978c8a91c38a2f03302f7ac459"><div class="ttname"><a href="socket__utils_8hpp.html#a507f86978c8a91c38a2f03302f7ac459">get_socket_name</a></div><div class="ttdeci">std::pair&lt; sockaddr_storage, int &gt; get_socket_name(const unique_socket &amp;sock)</div><div class="ttdoc">Return the local socket address (sockname) for a socket.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:355</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a583f687ec76654049acae67dc9d6288f"><div class="ttname"><a href="socket__utils_8hpp.html#a583f687ec76654049acae67dc9d6288f">HEADER_SIZE</a></div><div class="ttdeci">constexpr size_t HEADER_SIZE</div><div class="ttdoc">Size of the packet header defined above.</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:59</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a60a0eb7e6ded37c0b5a69030a0ce2499"><div class="ttname"><a href="socket__utils_8hpp.html#a60a0eb7e6ded37c0b5a69030a0ce2499">post_recv</a></div><div class="ttdeci">void post_recv(const unique_socket &amp;sock, io_context *ctx)</div><div class="ttdoc">Post an asynchronous receive (WSARecvFrom) using the provided context.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:268</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a613a0788ce65dc73402a9750f68ac8cb"><div class="ttname"><a href="socket__utils_8hpp.html#a613a0788ce65dc73402a9750f68ac8cb">cleanup_winsock</a></div><div class="ttdeci">void cleanup_winsock()</div><div class="ttdoc">Cleanup Winsock. Call during shutdown to release resources.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:40</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a65b578e012180e7c9369af36123d0528"><div class="ttname"><a href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528">io_operation_type</a></div><div class="ttdeci">io_operation_type</div><div class="ttdoc">Operation type stored in the per-I/O context to indicate whether the overlapped operation was a recei...</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:75</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a65b578e012180e7c9369af36123d0528a2541d938b0a58946090d7abdde0d3890"><div class="ttname"><a href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528a2541d938b0a58946090d7abdde0d3890">io_operation_type::send</a></div><div class="ttdeci">@ send</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a65b578e012180e7c9369af36123d0528af701fee85540b78d08cb276d14953d58"><div class="ttname"><a href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528af701fee85540b78d08cb276d14953d58">io_operation_type::recv</a></div><div class="ttdeci">@ recv</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a72a446f3b31a096288652a4d72008fc2"><div class="ttname"><a href="socket__utils_8hpp.html#a72a446f3b31a096288652a4d72008fc2">create_iocp</a></div><div class="ttdeci">unique_iocp create_iocp()</div><div class="ttdoc">Create an unassociated IO Completion Port (IOCP).</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:142</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a80e28ba6030cccb16bb546b4367bc339"><div class="ttname"><a href="socket__utils_8hpp.html#a80e28ba6030cccb16bb546b4367bc339">create_iocp_and_associate</a></div><div class="ttdeci">unique_iocp create_iocp_and_associate(const unique_socket &amp;sock)</div><div class="ttdoc">Create an IOCP and associate a socket with it.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:93</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a9079ca5e394407fd979f6ca4fd748af3"><div class="ttname"><a href="socket__utils_8hpp.html#a9079ca5e394407fd979f6ca4fd748af3">get_last_error_message</a></div><div class="ttdeci">std::string get_last_error_message()</div><div class="ttdoc">Format the last Win32 socket error into a human-readable string.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:387</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a9832c8b70a5297ecd72cdaae4a58d45d"><div class="ttname"><a href="socket__utils_8hpp.html#a9832c8b70a5297ecd72cdaae4a58d45d">MAX_PACKET_SIZE</a></div><div class="ttdeci">constexpr size_t MAX_PACKET_SIZE</div><div class="ttdoc">Maximum UDP payload size (practical limit for IPv4/IPv6 datagrams).</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:57</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_a9debea2742a938b16b6f5c125a6eaab8"><div class="ttname"><a href="socket__utils_8hpp.html#a9debea2742a938b16b6f5c125a6eaab8">MAX_PAYLOAD_SIZE</a></div><div class="ttdeci">constexpr size_t MAX_PAYLOAD_SIZE</div><div class="ttdoc">Maximum application payload size after subtracting the header.</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:61</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_aa5728a3989e32ddfadaa8ffb68f8b856"><div class="ttname"><a href="socket__utils_8hpp.html#aa5728a3989e32ddfadaa8ffb68f8b856">initialize_winsock</a></div><div class="ttdeci">void initialize_winsock()</div><div class="ttdoc">Initialize Winsock. Must be called before socket operations.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:29</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_aa8f857e179dcf9f759d1c9bf85bd1b3c"><div class="ttname"><a href="socket__utils_8hpp.html#aa8f857e179dcf9f759d1c9bf85bd1b3c">create_udp_socket</a></div><div class="ttdeci">unique_socket create_udp_socket(int family=AF_INET)</div><div class="ttdoc">Create a UDP socket for the specified address family.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:52</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_aba953de4c07bd7006485e12a3ea8a09f"><div class="ttname"><a href="socket__utils_8hpp.html#aba953de4c07bd7006485e12a3ea8a09f">set_socket_cpu_affinity</a></div><div class="ttdeci">void set_socket_cpu_affinity(const unique_socket &amp;sock, uint16_t processor_id)</div><div class="ttdoc">Set the CPU affinity for a socket (Windows SIO_CPU_AFFINITY).</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:72</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_accd850ed5ced16a59cf904f592e12abf"><div class="ttname"><a href="socket__utils_8hpp.html#accd850ed5ced16a59cf904f592e12abf">post_send</a></div><div class="ttdeci">void post_send(const unique_socket &amp;sock, io_context *ctx, const char *data, size_t len, const sockaddr *dest_addr, int dest_addr_len)</div><div class="ttdoc">Post an asynchronous send (WSASendTo) using the provided context.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:308</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_ad3dcef2fa26afe910d48f0b95d0d48ae"><div class="ttname"><a href="socket__utils_8hpp.html#ad3dcef2fa26afe910d48f0b95d0d48ae">set_file_completion_notification_modes</a></div><div class="ttdeci">void set_file_completion_notification_modes(HANDLE handle, UCHAR flags=FILE_SKIP_SET_EVENT_ON_HANDLE)</div><div class="ttdoc">Wrapper around SetFileCompletionNotificationModes that throws on failure.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:128</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_ad3e10b402cca9fffa66cda3d2f62b18a"><div class="ttname"><a href="socket__utils_8hpp.html#ad3e10b402cca9fffa66cda3d2f62b18a">unique_iocp</a></div><div class="ttdeci">wil::unique_handle unique_iocp</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:80</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_ad848fbdcf1ba3d815930644454f25817"><div class="ttname"><a href="socket__utils_8hpp.html#ad848fbdcf1ba3d815930644454f25817">set_socket_option</a></div><div class="ttdeci">void set_socket_option(const unique_socket &amp;sock, int level, int optname, const char *optval, int optlen)</div><div class="ttdoc">Helper around setsockopt that throws socket_exception on error.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:255</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_aed28ad6d08e188ae40a1241d7dce46fe"><div class="ttname"><a href="socket__utils_8hpp.html#aed28ad6d08e188ae40a1241d7dce46fe">associate_socket_with_iocp</a></div><div class="ttdeci">void associate_socket_with_iocp(const unique_socket &amp;sock, unique_iocp &amp;iocp, ULONG_PTR completion_key)</div><div class="ttdoc">Associate an existing socket with an existing IOCP.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:113</div></div>
<div class="ttc" id="asocket__utils_8hpp_html_af3f20a9ce53c3700dde9180dff139d72"><div class="ttname"><a href="socket__utils_8hpp.html#af3f20a9ce53c3700dde9180dff139d72">set_thread_affinity</a></div><div class="ttdeci">void set_thread_affinity(uint32_t processor_id)</div><div class="ttdoc">Set the current thread's processor affinity.</div><div class="ttdef"><b>Definition</b> socket_utils.cpp:158</div></div>
<div class="ttc" id="astructio__context_html"><div class="ttname"><a href="structio__context.html">io_context</a></div><div class="ttdoc">Overlapped context extended with additional metadata for IOCP.</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:100</div></div>
<div class="ttc" id="astructio__context_html_a50f74bb841423e757c44b56d953a80fb"><div class="ttname"><a href="structio__context.html#a50f74bb841423e757c44b56d953a80fb">io_context::wsa_buf</a></div><div class="ttdeci">WSABUF wsa_buf</div><div class="ttdoc">WSABUF pointing at the buffer storage.</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:104</div></div>
<div class="ttc" id="astructio__context_html_a54ad6beeb0d087217037830d2ed43ec7"><div class="ttname"><a href="structio__context.html#a54ad6beeb0d087217037830d2ed43ec7">io_context::remote_addr</a></div><div class="ttdeci">sockaddr_storage remote_addr</div><div class="ttdoc">Storage for the remote peer address.</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:108</div></div>
<div class="ttc" id="astructio__context_html_a74a07d27876dfa43e2178db0c1d7f111"><div class="ttname"><a href="structio__context.html#a74a07d27876dfa43e2178db0c1d7f111">io_context::io_context</a></div><div class="ttdeci">io_context()</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:112</div></div>
<div class="ttc" id="astructio__context_html_acf6afeb47a6c550ec12a8db0b928d4f9"><div class="ttname"><a href="structio__context.html#acf6afeb47a6c550ec12a8db0b928d4f9">io_context::buffer</a></div><div class="ttdeci">std::vector&lt; char &gt; buffer</div><div class="ttdoc">Backing storage for the packet (includes header + payload).</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:106</div></div>
<div class="ttc" id="astructio__context_html_ad547a7626bf26f4b8f1e248fba865bbb"><div class="ttname"><a href="structio__context.html#ad547a7626bf26f4b8f1e248fba865bbb">io_context::operation</a></div><div class="ttdeci">io_operation_type operation</div><div class="ttdoc">Operation type (recv or send).</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:102</div></div>
<div class="ttc" id="astructio__context_html_afee31663e9aad2679e51cac8817f17f4"><div class="ttname"><a href="structio__context.html#afee31663e9aad2679e51cac8817f17f4">io_context::remote_addr_len</a></div><div class="ttdeci">int remote_addr_len</div><div class="ttdoc">Length of the remote address in bytes.</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:110</div></div>
<div class="ttc" id="astructpacket__header_html"><div class="ttname"><a href="structpacket__header.html">packet_header</a></div><div class="ttdoc">Packet framing header prepended to each UDP payload.</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:48</div></div>
<div class="ttc" id="astructpacket__header_html_a74867188a993e51130b22b2a632c77a4"><div class="ttname"><a href="structpacket__header.html#a74867188a993e51130b22b2a632c77a4">packet_header::sequence_number</a></div><div class="ttdeci">uint64_t sequence_number</div><div class="ttdoc">Monotonic sequence number assigned by sender.</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:50</div></div>
<div class="ttc" id="astructpacket__header_html_afbe1c426329b5aa1b730cf566dc45f83"><div class="ttname"><a href="structpacket__header.html#afbe1c426329b5aa1b730cf566dc45f83">packet_header::timestamp_ns</a></div><div class="ttdeci">uint64_t timestamp_ns</div><div class="ttdoc">Sender timestamp in nanoseconds when the packet was created.</div><div class="ttdef"><b>Definition</b> socket_utils.hpp:52</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_fdedb0aba14d44ce9d99bc100e026e6a.html">common</a></li><li class="navelem"><a class="el" href="socket__utils_8hpp.html">socket_utils.hpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
