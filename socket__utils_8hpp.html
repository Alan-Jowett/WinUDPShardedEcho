<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WinUDPShardedEcho: src/common/socket_utils.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WinUDPShardedEcho<span id="projectnumber">&#160;main</span>
   </div>
   <div id="projectbrief">A reference implementation of a highly scalable Windows UDP echo server using Winsock + IOCP with SIO_CPU_AFFINITY and one worker thread per CPU to align NIC RSS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('socket__utils_8hpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">socket_utils.hpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Cross-cutting Win32 socket utilities and IOCP helpers used by the demo.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;winsock2.h&gt;</code><br />
<code>#include &lt;mswsock.h&gt;</code><br />
<code>#include &lt;wil/resource.h&gt;</code><br />
<code>#include &lt;windows.h&gt;</code><br />
<code>#include &lt;ws2tcpip.h&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;cstdint&gt;</code><br />
<code>#include &lt;format&gt;</code><br />
<code>#include &lt;functional&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;optional&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for socket_utils.hpp:</div>
<div class="dyncontent">
<div class="center"><img src="socket__utils_8hpp__incl.png" border="0" usemap="#asrc_2common_2socket__utils_8hpp" alt=""/></div>
<map name="asrc_2common_2socket__utils_8hpp" id="asrc_2common_2socket__utils_8hpp">
<area shape="rect" title="Cross&#45;cutting Win32 socket utilities and IOCP helpers used by the demo." alt="" coords="773,5,983,31"/>
<area shape="rect" title=" " alt="" coords="5,79,100,104"/>
<area shape="poly" title=" " alt="" coords="772,26,480,44,299,60,114,81,114,76,298,55,479,39,772,21"/>
<area shape="rect" title=" " alt="" coords="124,79,219,104"/>
<area shape="poly" title=" " alt="" coords="772,28,530,48,233,81,233,76,529,42,772,23"/>
<area shape="rect" title=" " alt="" coords="243,79,356,104"/>
<area shape="poly" title=" " alt="" coords="773,33,589,53,370,81,369,76,589,48,772,28"/>
<area shape="rect" title=" " alt="" coords="381,79,471,104"/>
<area shape="poly" title=" " alt="" coords="795,33,485,81,485,76,795,28"/>
<area shape="rect" title=" " alt="" coords="496,79,588,104"/>
<area shape="poly" title=" " alt="" coords="825,33,602,80,601,75,823,28"/>
<area shape="rect" title=" " alt="" coords="613,79,679,104"/>
<area shape="poly" title=" " alt="" coords="842,33,693,78,691,73,840,28"/>
<area shape="rect" title=" " alt="" coords="703,79,770,104"/>
<area shape="poly" title=" " alt="" coords="856,33,773,75,771,70,854,28"/>
<area shape="rect" title=" " alt="" coords="794,79,861,104"/>
<area shape="poly" title=" " alt="" coords="872,33,846,69,841,66,867,29"/>
<area shape="rect" title=" " alt="" coords="885,79,972,104"/>
<area shape="poly" title=" " alt="" coords="889,29,915,66,910,69,884,33"/>
<area shape="rect" title=" " alt="" coords="997,79,1077,104"/>
<area shape="poly" title=" " alt="" coords="905,28,999,71,997,75,902,33"/>
<area shape="rect" title=" " alt="" coords="1101,79,1178,104"/>
<area shape="poly" title=" " alt="" coords="921,28,1088,73,1087,78,919,33"/>
<area shape="rect" title=" " alt="" coords="1202,79,1277,104"/>
<area shape="poly" title=" " alt="" coords="942,28,1189,76,1188,81,941,33"/>
<area shape="rect" title=" " alt="" coords="1301,79,1359,104"/>
<area shape="poly" title=" " alt="" coords="982,28,1123,47,1288,76,1287,81,1122,52,981,33"/>
<area shape="rect" title=" " alt="" coords="1383,79,1447,104"/>
<area shape="poly" title=" " alt="" coords="984,25,1161,44,1370,76,1370,81,1160,50,983,31"/>
<area shape="rect" title=" " alt="" coords="1472,79,1532,104"/>
<area shape="poly" title=" " alt="" coords="984,22,1199,40,1327,56,1459,76,1458,82,1327,61,1198,46,984,28"/>
<area shape="rect" title=" " alt="" coords="1556,79,1619,104"/>
<area shape="poly" title=" " alt="" coords="984,21,1235,37,1388,53,1543,76,1542,81,1387,59,1235,43,984,26"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="socket__utils_8hpp__dep__incl.png" border="0" usemap="#asrc_2common_2socket__utils_8hppdep" alt=""/></div>
<map name="asrc_2common_2socket__utils_8hppdep" id="asrc_2common_2socket__utils_8hppdep">
<area shape="rect" title="Cross&#45;cutting Win32 socket utilities and IOCP helpers used by the demo." alt="" coords="175,5,386,31"/>
<area shape="rect" href="client_2main_8cpp.html" title="Scalable UDP echo client." alt="" coords="5,79,151,104"/>
<area shape="poly" title=" " alt="" coords="236,38,112,81,110,76,235,33"/>
<area shape="rect" href="socket__utils_8cpp.html" title="Implementation of Win32 socket utilities and IOCP helpers." alt="" coords="175,79,386,104"/>
<area shape="poly" title=" " alt="" coords="283,44,283,79,278,79,278,44"/>
<area shape="rect" href="server_2main_8cpp.html" title="Scalable UDP echo server." alt="" coords="411,79,561,104"/>
<area shape="poly" title=" " alt="" coords="327,33,454,76,452,81,326,38"/>
</map>
</div>
</div>
<p><a href="socket__utils_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpacket__header.html">packet_header</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet framing header prepended to each UDP payload.  <a href="structpacket__header.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsocket__exception.html">socket_exception</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exception type thrown on socket-related failures.  <a href="classsocket__exception.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structio__context.html">io_context</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overlapped context extended with additional metadata for IOCP.  <a href="structio__context.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac7bef5d85e3dcd73eef56ad39ffc84a9" id="r_ac7bef5d85e3dcd73eef56ad39ffc84a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#ac7bef5d85e3dcd73eef56ad39ffc84a9">WIN32_LEAN_AND_MEAN</a></td></tr>
<tr class="separator:ac7bef5d85e3dcd73eef56ad39ffc84a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a33fbd73132e371fc1ff01523baa1838d" id="r_a33fbd73132e371fc1ff01523baa1838d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> = wil::unique_socket</td></tr>
<tr class="separator:a33fbd73132e371fc1ff01523baa1838d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3e10b402cca9fffa66cda3d2f62b18a" id="r_ad3e10b402cca9fffa66cda3d2f62b18a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#ad3e10b402cca9fffa66cda3d2f62b18a">unique_iocp</a> = wil::unique_handle</td></tr>
<tr class="separator:ad3e10b402cca9fffa66cda3d2f62b18a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38372d7e282e7807a0980651dcda3f2c" id="r_a38372d7e282e7807a0980651dcda3f2c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a38372d7e282e7807a0980651dcda3f2c">unique_event</a> = wil::unique_handle</td></tr>
<tr class="separator:a38372d7e282e7807a0980651dcda3f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a65b578e012180e7c9369af36123d0528" id="r_a65b578e012180e7c9369af36123d0528"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528">io_operation_type</a> { <a class="el" href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528af701fee85540b78d08cb276d14953d58">recv</a>
, <a class="el" href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528a2541d938b0a58946090d7abdde0d3890">send</a>
 }</td></tr>
<tr class="memdesc:a65b578e012180e7c9369af36123d0528"><td class="mdescLeft">&#160;</td><td class="mdescRight">Operation type stored in the per-I/O context to indicate whether the overlapped operation was a receive or a send.  <a href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528">More...</a><br /></td></tr>
<tr class="separator:a65b578e012180e7c9369af36123d0528"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Winsock lifecycle</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Helper functions to initialize and cleanup the Winsock stack. </p>
</div></td></tr>
<tr class="memitem:aa5728a3989e32ddfadaa8ffb68f8b856" id="r_aa5728a3989e32ddfadaa8ffb68f8b856"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#aa5728a3989e32ddfadaa8ffb68f8b856">initialize_winsock</a> ()</td></tr>
<tr class="memdesc:aa5728a3989e32ddfadaa8ffb68f8b856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Winsock. Must be called before socket operations.  <br /></td></tr>
<tr class="separator:aa5728a3989e32ddfadaa8ffb68f8b856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a613a0788ce65dc73402a9750f68ac8cb" id="r_a613a0788ce65dc73402a9750f68ac8cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a613a0788ce65dc73402a9750f68ac8cb">cleanup_winsock</a> ()</td></tr>
<tr class="memdesc:a613a0788ce65dc73402a9750f68ac8cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanup Winsock. Call during shutdown to release resources.  <br /></td></tr>
<tr class="separator:a613a0788ce65dc73402a9750f68ac8cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f857e179dcf9f759d1c9bf85bd1b3c" id="r_aa8f857e179dcf9f759d1c9bf85bd1b3c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#aa8f857e179dcf9f759d1c9bf85bd1b3c">create_udp_socket</a> (int family=AF_INET)</td></tr>
<tr class="memdesc:aa8f857e179dcf9f759d1c9bf85bd1b3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a UDP socket for the specified address family.  <br /></td></tr>
<tr class="separator:aa8f857e179dcf9f759d1c9bf85bd1b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba953de4c07bd7006485e12a3ea8a09f" id="r_aba953de4c07bd7006485e12a3ea8a09f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#aba953de4c07bd7006485e12a3ea8a09f">set_socket_cpu_affinity</a> (const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;sock, uint16_t processor_id)</td></tr>
<tr class="memdesc:aba953de4c07bd7006485e12a3ea8a09f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the CPU affinity for a socket (Windows SIO_CPU_AFFINITY).  <br /></td></tr>
<tr class="separator:aba953de4c07bd7006485e12a3ea8a09f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a446f3b31a096288652a4d72008fc2" id="r_a72a446f3b31a096288652a4d72008fc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="socket__utils_8hpp.html#ad3e10b402cca9fffa66cda3d2f62b18a">unique_iocp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a72a446f3b31a096288652a4d72008fc2">create_iocp</a> ()</td></tr>
<tr class="memdesc:a72a446f3b31a096288652a4d72008fc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an unassociated IO Completion Port (IOCP).  <br /></td></tr>
<tr class="separator:a72a446f3b31a096288652a4d72008fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80e28ba6030cccb16bb546b4367bc339" id="r_a80e28ba6030cccb16bb546b4367bc339"><td class="memItemLeft" align="right" valign="top"><a class="el" href="socket__utils_8hpp.html#ad3e10b402cca9fffa66cda3d2f62b18a">unique_iocp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a80e28ba6030cccb16bb546b4367bc339">create_iocp_and_associate</a> (const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;sock)</td></tr>
<tr class="memdesc:a80e28ba6030cccb16bb546b4367bc339"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an IOCP and associate a socket with it.  <br /></td></tr>
<tr class="separator:a80e28ba6030cccb16bb546b4367bc339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed28ad6d08e188ae40a1241d7dce46fe" id="r_aed28ad6d08e188ae40a1241d7dce46fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#aed28ad6d08e188ae40a1241d7dce46fe">associate_socket_with_iocp</a> (const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;sock, <a class="el" href="socket__utils_8hpp.html#ad3e10b402cca9fffa66cda3d2f62b18a">unique_iocp</a> &amp;iocp, ULONG_PTR completion_key)</td></tr>
<tr class="memdesc:aed28ad6d08e188ae40a1241d7dce46fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associate an existing socket with an existing IOCP.  <br /></td></tr>
<tr class="separator:aed28ad6d08e188ae40a1241d7dce46fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3dcef2fa26afe910d48f0b95d0d48ae" id="r_ad3dcef2fa26afe910d48f0b95d0d48ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#ad3dcef2fa26afe910d48f0b95d0d48ae">set_file_completion_notification_modes</a> (HANDLE handle, UCHAR flags=FILE_SKIP_SET_EVENT_ON_HANDLE)</td></tr>
<tr class="memdesc:ad3dcef2fa26afe910d48f0b95d0d48ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper around SetFileCompletionNotificationModes that throws on failure.  <br /></td></tr>
<tr class="separator:ad3dcef2fa26afe910d48f0b95d0d48ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f20a9ce53c3700dde9180dff139d72" id="r_af3f20a9ce53c3700dde9180dff139d72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#af3f20a9ce53c3700dde9180dff139d72">set_thread_affinity</a> (uint32_t processor_id)</td></tr>
<tr class="memdesc:af3f20a9ce53c3700dde9180dff139d72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the current thread's processor affinity.  <br /></td></tr>
<tr class="separator:af3f20a9ce53c3700dde9180dff139d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187c3884d0329fcb430acca9bd5b5475" id="r_a187c3884d0329fcb430acca9bd5b5475"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a187c3884d0329fcb430acca9bd5b5475">get_processor_count</a> ()</td></tr>
<tr class="memdesc:a187c3884d0329fcb430acca9bd5b5475"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the number of logical processors available on the system.  <br /></td></tr>
<tr class="separator:a187c3884d0329fcb430acca9bd5b5475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255bf86bb4efe3c63ef792c04861631f" id="r_a255bf86bb4efe3c63ef792c04861631f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a255bf86bb4efe3c63ef792c04861631f">bind_socket</a> (const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;sock, uint16_t port, int family=AF_INET)</td></tr>
<tr class="memdesc:a255bf86bb4efe3c63ef792c04861631f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bind a UDP socket to the given port and address family.  <br /></td></tr>
<tr class="separator:a255bf86bb4efe3c63ef792c04861631f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad848fbdcf1ba3d815930644454f25817" id="r_ad848fbdcf1ba3d815930644454f25817"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#ad848fbdcf1ba3d815930644454f25817">set_socket_option</a> (const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;sock, int level, int optname, const char *optval, int optlen)</td></tr>
<tr class="memdesc:ad848fbdcf1ba3d815930644454f25817"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper around <code>setsockopt</code> that throws <code><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></code> on error.  <br /></td></tr>
<tr class="separator:ad848fbdcf1ba3d815930644454f25817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60a0eb7e6ded37c0b5a69030a0ce2499" id="r_a60a0eb7e6ded37c0b5a69030a0ce2499"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a60a0eb7e6ded37c0b5a69030a0ce2499">post_recv</a> (const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;sock, <a class="el" href="structio__context.html">io_context</a> *ctx)</td></tr>
<tr class="memdesc:a60a0eb7e6ded37c0b5a69030a0ce2499"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post an asynchronous receive (WSARecvFrom) using the provided context.  <br /></td></tr>
<tr class="separator:a60a0eb7e6ded37c0b5a69030a0ce2499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accd850ed5ced16a59cf904f592e12abf" id="r_accd850ed5ced16a59cf904f592e12abf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#accd850ed5ced16a59cf904f592e12abf">post_send</a> (const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;sock, <a class="el" href="structio__context.html">io_context</a> *ctx, const char *data, size_t len, const sockaddr *dest_addr, int dest_addr_len)</td></tr>
<tr class="memdesc:accd850ed5ced16a59cf904f592e12abf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post an asynchronous send (WSASendTo) using the provided context.  <br /></td></tr>
<tr class="separator:accd850ed5ced16a59cf904f592e12abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3732f25dba195f242cc166347f1c3c5c" id="r_a3732f25dba195f242cc166347f1c3c5c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a3732f25dba195f242cc166347f1c3c5c">send_sync</a> (const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;sock, const char *data, size_t len, const sockaddr *dest_addr, int dest_addr_len)</td></tr>
<tr class="memdesc:a3732f25dba195f242cc166347f1c3c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronously send a UDP datagram using <code>sendto</code>.  <br /></td></tr>
<tr class="separator:a3732f25dba195f242cc166347f1c3c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39b87de7e582017d965787fa97e41f79" id="r_a39b87de7e582017d965787fa97e41f79"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a39b87de7e582017d965787fa97e41f79">get_timestamp_ns</a> ()</td></tr>
<tr class="memdesc:a39b87de7e582017d965787fa97e41f79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a monotonic timestamp in nanoseconds.  <br /></td></tr>
<tr class="separator:a39b87de7e582017d965787fa97e41f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507f86978c8a91c38a2f03302f7ac459" id="r_a507f86978c8a91c38a2f03302f7ac459"><td class="memItemLeft" align="right" valign="top">std::pair&lt; sockaddr_storage, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a507f86978c8a91c38a2f03302f7ac459">get_socket_name</a> (const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;sock)</td></tr>
<tr class="memdesc:a507f86978c8a91c38a2f03302f7ac459"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the local socket address (sockname) for a socket.  <br /></td></tr>
<tr class="separator:a507f86978c8a91c38a2f03302f7ac459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9079ca5e394407fd979f6ca4fd748af3" id="r_a9079ca5e394407fd979f6ca4fd748af3"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a9079ca5e394407fd979f6ca4fd748af3">get_last_error_message</a> ()</td></tr>
<tr class="memdesc:a9079ca5e394407fd979f6ca4fd748af3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format the last Win32 socket error into a human-readable string.  <br /></td></tr>
<tr class="separator:a9079ca5e394407fd979f6ca4fd748af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9832c8b70a5297ecd72cdaae4a58d45d" id="r_a9832c8b70a5297ecd72cdaae4a58d45d"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a9832c8b70a5297ecd72cdaae4a58d45d">MAX_PACKET_SIZE</a> = 65507</td></tr>
<tr class="memdesc:a9832c8b70a5297ecd72cdaae4a58d45d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum UDP payload size (practical limit for IPv4/IPv6 datagrams).  <br /></td></tr>
<tr class="separator:a9832c8b70a5297ecd72cdaae4a58d45d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a583f687ec76654049acae67dc9d6288f" id="r_a583f687ec76654049acae67dc9d6288f"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a583f687ec76654049acae67dc9d6288f">HEADER_SIZE</a> = sizeof(<a class="el" href="structpacket__header.html">packet_header</a>)</td></tr>
<tr class="memdesc:a583f687ec76654049acae67dc9d6288f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the packet header defined above.  <br /></td></tr>
<tr class="separator:a583f687ec76654049acae67dc9d6288f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9debea2742a938b16b6f5c125a6eaab8" id="r_a9debea2742a938b16b6f5c125a6eaab8"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a9debea2742a938b16b6f5c125a6eaab8">MAX_PAYLOAD_SIZE</a> = <a class="el" href="socket__utils_8hpp.html#a9832c8b70a5297ecd72cdaae4a58d45d">MAX_PACKET_SIZE</a> - <a class="el" href="socket__utils_8hpp.html#a583f687ec76654049acae67dc9d6288f">HEADER_SIZE</a></td></tr>
<tr class="memdesc:a9debea2742a938b16b6f5c125a6eaab8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum application payload size after subtracting the header.  <br /></td></tr>
<tr class="separator:a9debea2742a938b16b6f5c125a6eaab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a039f815ac1325125001b5632a11bde14" id="r_a039f815ac1325125001b5632a11bde14"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a039f815ac1325125001b5632a11bde14">OUTSTANDING_OPS</a> = 16</td></tr>
<tr class="memdesc:a039f815ac1325125001b5632a11bde14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of simultaneous outstanding asynchronous I/O operations per socket.  <br /></td></tr>
<tr class="separator:a039f815ac1325125001b5632a11bde14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4654d03c0934fb2f6dbf7eacb28c91a4" id="r_a4654d03c0934fb2f6dbf7eacb28c91a4"><td class="memItemLeft" align="right" valign="top">constexpr DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a4654d03c0934fb2f6dbf7eacb28c91a4">IOCP_TIMEOUT_MS</a> = 10</td></tr>
<tr class="memdesc:a4654d03c0934fb2f6dbf7eacb28c91a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeout in milliseconds used when polling an IOCP for events.  <br /></td></tr>
<tr class="separator:a4654d03c0934fb2f6dbf7eacb28c91a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a152d6035510845597230205a9e09d606" id="r_a152d6035510845597230205a9e09d606"><td class="memItemLeft" align="right" valign="top">constexpr DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="socket__utils_8hpp.html#a152d6035510845597230205a9e09d606">IOCP_SHUTDOWN_TIMEOUT_MS</a> = 1000</td></tr>
<tr class="memdesc:a152d6035510845597230205a9e09d606"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeout used specifically during shutdown checks on the IOCP.  <br /></td></tr>
<tr class="separator:a152d6035510845597230205a9e09d606"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Cross-cutting Win32 socket utilities and IOCP helpers used by the demo. </p>
<p>This header provides small helpers and types for creating UDP sockets, posting overlapped operations and interacting with IO Completion Ports (IOCP) on Windows. It also defines packet framing constants used by the echo server/client.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2025 WinUDPShardedEcho Contributors SPDX-License-Identifier: MIT </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ac7bef5d85e3dcd73eef56ad39ffc84a9" name="ac7bef5d85e3dcd73eef56ad39ffc84a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7bef5d85e3dcd73eef56ad39ffc84a9">&#9670;&#160;</a></span>WIN32_LEAN_AND_MEAN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WIN32_LEAN_AND_MEAN</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a38372d7e282e7807a0980651dcda3f2c" name="a38372d7e282e7807a0980651dcda3f2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38372d7e282e7807a0980651dcda3f2c">&#9670;&#160;</a></span>unique_event</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="socket__utils_8hpp.html#a38372d7e282e7807a0980651dcda3f2c">unique_event</a> =  wil::unique_handle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad3e10b402cca9fffa66cda3d2f62b18a" name="ad3e10b402cca9fffa66cda3d2f62b18a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3e10b402cca9fffa66cda3d2f62b18a">&#9670;&#160;</a></span>unique_iocp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="socket__utils_8hpp.html#ad3e10b402cca9fffa66cda3d2f62b18a">unique_iocp</a> =  wil::unique_handle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a33fbd73132e371fc1ff01523baa1838d" name="a33fbd73132e371fc1ff01523baa1838d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33fbd73132e371fc1ff01523baa1838d">&#9670;&#160;</a></span>unique_socket</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> =  wil::unique_socket</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a65b578e012180e7c9369af36123d0528" name="a65b578e012180e7c9369af36123d0528"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65b578e012180e7c9369af36123d0528">&#9670;&#160;</a></span>io_operation_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="socket__utils_8hpp.html#a65b578e012180e7c9369af36123d0528">io_operation_type</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Operation type stored in the per-I/O context to indicate whether the overlapped operation was a receive or a send. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a65b578e012180e7c9369af36123d0528af701fee85540b78d08cb276d14953d58" name="a65b578e012180e7c9369af36123d0528af701fee85540b78d08cb276d14953d58"></a>recv&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a65b578e012180e7c9369af36123d0528a2541d938b0a58946090d7abdde0d3890" name="a65b578e012180e7c9369af36123d0528a2541d938b0a58946090d7abdde0d3890"></a>send&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aed28ad6d08e188ae40a1241d7dce46fe" name="aed28ad6d08e188ae40a1241d7dce46fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed28ad6d08e188ae40a1241d7dce46fe">&#9670;&#160;</a></span>associate_socket_with_iocp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void associate_socket_with_iocp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="socket__utils_8hpp.html#ad3e10b402cca9fffa66cda3d2f62b18a">unique_iocp</a> &amp;&#160;</td>
          <td class="paramname"><em>iocp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ULONG_PTR&#160;</td>
          <td class="paramname"><em>completion_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Associate an existing socket with an existing IOCP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to associate. </td></tr>
    <tr><td class="paramname">iocp</td><td>IOCP handle to associate with. </td></tr>
    <tr><td class="paramname">completion_key</td><td>Completion key (typically used to identify socket/thread).</td></tr>
  </table>
  </dd>
</dl>
<p>Associate an existing socket with an existing IOCP.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to associate. </td></tr>
    <tr><td class="paramname">iocp</td><td>IOCP handle to associate the socket with. </td></tr>
    <tr><td class="paramname">completion_key</td><td>Completion key passed to IOCP completions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a255bf86bb4efe3c63ef792c04861631f" name="a255bf86bb4efe3c63ef792c04861631f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a255bf86bb4efe3c63ef792c04861631f">&#9670;&#160;</a></span>bind_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bind_socket </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>family</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bind a UDP socket to the given port and address family. </p>
<p>Throws <code><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></code> on failure.</p>
<p>Bind a UDP socket to the given port and address family.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to bind. </td></tr>
    <tr><td class="paramname">port</td><td>Port number in host byte order. </td></tr>
    <tr><td class="paramname">family</td><td>AF_INET or AF_INET6. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a613a0788ce65dc73402a9750f68ac8cb" name="a613a0788ce65dc73402a9750f68ac8cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a613a0788ce65dc73402a9750f68ac8cb">&#9670;&#160;</a></span>cleanup_winsock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup_winsock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleanup Winsock. Call during shutdown to release resources. </p>
<p>Cleanup Winsock. Call during shutdown to release resources. </p>

</div>
</div>
<a id="a72a446f3b31a096288652a4d72008fc2" name="a72a446f3b31a096288652a4d72008fc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a446f3b31a096288652a4d72008fc2">&#9670;&#160;</a></span>create_iocp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="socket__utils_8hpp.html#ad3e10b402cca9fffa66cda3d2f62b18a">unique_iocp</a> create_iocp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an unassociated IO Completion Port (IOCP). </p>
<dl class="section return"><dt>Returns</dt><dd>A <code>unique_iocp</code> handle for the created IOCP.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>unique_iocp</code> owning the IOCP handle. </dd></dl>

</div>
</div>
<a id="a80e28ba6030cccb16bb546b4367bc339" name="a80e28ba6030cccb16bb546b4367bc339"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80e28ba6030cccb16bb546b4367bc339">&#9670;&#160;</a></span>create_iocp_and_associate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="socket__utils_8hpp.html#ad3e10b402cca9fffa66cda3d2f62b18a">unique_iocp</a> create_iocp_and_associate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an IOCP and associate a socket with it. </p>
<p>Convenience helper that creates an IOCP and associates <code>sock</code> so the application can begin posting asynchronous operations and receive completions via the IOCP.</p>
<p>Create an IOCP and associate a socket with it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to associate with the newly created IOCP. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>unique_iocp</code> handle for the created IOCP. </dd></dl>

</div>
</div>
<a id="aa8f857e179dcf9f759d1c9bf85bd1b3c" name="aa8f857e179dcf9f759d1c9bf85bd1b3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8f857e179dcf9f759d1c9bf85bd1b3c">&#9670;&#160;</a></span>create_udp_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> create_udp_socket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>family</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a UDP socket for the specified address family. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">family</td><td>Address family (AF_INET or AF_INET6). Defaults to AF_INET. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A RAII <code>unique_socket</code> owning the created SOCKET.</dd></dl>
<p>Create a UDP socket for the specified address family.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">family</td><td>Address family (AF_INET or AF_INET6). If an unsupported family is passed, AF_INET will be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></td><td>on failure to create the socket. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RAII <code>unique_socket</code> owning the created SOCKET. </dd></dl>

</div>
</div>
<a id="a9079ca5e394407fd979f6ca4fd748af3" name="a9079ca5e394407fd979f6ca4fd748af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9079ca5e394407fd979f6ca4fd748af3">&#9670;&#160;</a></span>get_last_error_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string get_last_error_message </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Format the last Win32 socket error into a human-readable string. </p>
<p>Format the last Win32 socket error into a human-readable string.</p>
<p>The function checks <code>GetLastError()</code> and then <code>WSAGetLastError()</code> and uses <code>FormatMessageA</code> to produce a textual description.</p>
<dl class="section return"><dt>Returns</dt><dd>Human-readable error message string. </dd></dl>

</div>
</div>
<a id="a187c3884d0329fcb430acca9bd5b5475" name="a187c3884d0329fcb430acca9bd5b5475"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a187c3884d0329fcb430acca9bd5b5475">&#9670;&#160;</a></span>get_processor_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t get_processor_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query the number of logical processors available on the system. </p>
<p>Query the number of logical processors available on the system.</p>
<dl class="section return"><dt>Returns</dt><dd>Number of logical processors. </dd></dl>

</div>
</div>
<a id="a507f86978c8a91c38a2f03302f7ac459" name="a507f86978c8a91c38a2f03302f7ac459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a507f86978c8a91c38a2f03302f7ac459">&#9670;&#160;</a></span>get_socket_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; sockaddr_storage, int &gt; get_socket_name </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the local socket address (sockname) for a socket. </p>
<dl class="section return"><dt>Returns</dt><dd>Pair of <code>sockaddr_storage</code> and length; throws on error.</dd></dl>
<p>Return the local socket address (sockname) for a socket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pair of <code>sockaddr_storage</code> and actual length in bytes. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a39b87de7e582017d965787fa97e41f79" name="a39b87de7e582017d965787fa97e41f79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39b87de7e582017d965787fa97e41f79">&#9670;&#160;</a></span>get_timestamp_ns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t get_timestamp_ns </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a monotonic timestamp in nanoseconds. </p>
<p>Return a monotonic timestamp in nanoseconds. </p>

</div>
</div>
<a id="aa5728a3989e32ddfadaa8ffb68f8b856" name="aa5728a3989e32ddfadaa8ffb68f8b856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5728a3989e32ddfadaa8ffb68f8b856">&#9670;&#160;</a></span>initialize_winsock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize_winsock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize Winsock. Must be called before socket operations. </p>
<p>Initialize Winsock. Must be called before socket operations.</p>
<p>Throws a <code><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></code> if WSAStartup fails. </p>

</div>
</div>
<a id="a60a0eb7e6ded37c0b5a69030a0ce2499" name="a60a0eb7e6ded37c0b5a69030a0ce2499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60a0eb7e6ded37c0b5a69030a0ce2499">&#9670;&#160;</a></span>post_recv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void post_recv </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structio__context.html">io_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Post an asynchronous receive (WSARecvFrom) using the provided context. </p>
<p>Post an asynchronous receive (WSARecvFrom) using the provided context.</p>
<p>On failure other than <code>WSA_IO_PENDING</code> the error is logged to <code>std::cerr</code>. </p>

</div>
</div>
<a id="accd850ed5ced16a59cf904f592e12abf" name="accd850ed5ced16a59cf904f592e12abf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accd850ed5ced16a59cf904f592e12abf">&#9670;&#160;</a></span>post_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void post_send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structio__context.html">io_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sockaddr *&#160;</td>
          <td class="paramname"><em>dest_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dest_addr_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Post an asynchronous send (WSASendTo) using the provided context. </p>
<p>The <code>data</code> pointer is copied into the <code>ctx-&gt;buffer</code> prior to posting.</p>
<p>Post an asynchronous send (WSASendTo) using the provided context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to send on. </td></tr>
    <tr><td class="paramname">ctx</td><td>Overlapped I/O context to use for the operation. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the data to send. Data is copied into <code>ctx-&gt;buffer</code>. </td></tr>
    <tr><td class="paramname">len</td><td>Length of data to send; truncated to the context buffer size if larger. </td></tr>
    <tr><td class="paramname">dest_addr</td><td>Destination socket address. </td></tr>
    <tr><td class="paramname">dest_addr_len</td><td>Length of the destination socket address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></td><td>on non-pending failures from WSASendTo. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3732f25dba195f242cc166347f1c3c5c" name="a3732f25dba195f242cc166347f1c3c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3732f25dba195f242cc166347f1c3c5c">&#9670;&#160;</a></span>send_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int send_sync </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sockaddr *&#160;</td>
          <td class="paramname"><em>dest_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dest_addr_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronously send a UDP datagram using <code>sendto</code>. </p>
<p>Returns number of bytes sent on success, or throws <a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a> on error. </p>

</div>
</div>
<a id="ad3dcef2fa26afe910d48f0b95d0d48ae" name="ad3dcef2fa26afe910d48f0b95d0d48ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3dcef2fa26afe910d48f0b95d0d48ae">&#9670;&#160;</a></span>set_file_completion_notification_modes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_file_completion_notification_modes </td>
          <td>(</td>
          <td class="paramtype">HANDLE&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR&#160;</td>
          <td class="paramname"><em>flags</em> = <code>FILE_SKIP_SET_EVENT_ON_HANDLE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper around SetFileCompletionNotificationModes that throws on failure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>File handle to set completion notification modes on. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags passed to SetFileCompletionNotificationModes (default: skip completion port on success). </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aba953de4c07bd7006485e12a3ea8a09f" name="aba953de4c07bd7006485e12a3ea8a09f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba953de4c07bd7006485e12a3ea8a09f">&#9670;&#160;</a></span>set_socket_cpu_affinity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_socket_cpu_affinity </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>processor_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the CPU affinity for a socket (Windows SIO_CPU_AFFINITY). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>The socket to configure. </td></tr>
    <tr><td class="paramname">processor_id</td><td>Logical processor index to bind the socket to.</td></tr>
  </table>
  </dd>
</dl>
<p>Set the CPU affinity for a socket (Windows SIO_CPU_AFFINITY).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to configure. </td></tr>
    <tr><td class="paramname">processor_id</td><td>Logical processor index to bind the socket to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad848fbdcf1ba3d815930644454f25817" name="ad848fbdcf1ba3d815930644454f25817"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad848fbdcf1ba3d815930644454f25817">&#9670;&#160;</a></span>set_socket_option()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_socket_option </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="socket__utils_8hpp.html#a33fbd73132e371fc1ff01523baa1838d">unique_socket</a> &amp;&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>optname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>optval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>optlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper around <code>setsockopt</code> that throws <code><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></code> on error. </p>
<p>Helper around <code>setsockopt</code> that throws <code><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></code> on error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to configure. </td></tr>
    <tr><td class="paramname">level</td><td>Protocol level for the option. </td></tr>
    <tr><td class="paramname">optname</td><td>Option name. </td></tr>
    <tr><td class="paramname">optval</td><td>Pointer to option value buffer. </td></tr>
    <tr><td class="paramname">optlen</td><td>Length of option value buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af3f20a9ce53c3700dde9180dff139d72" name="af3f20a9ce53c3700dde9180dff139d72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3f20a9ce53c3700dde9180dff139d72">&#9670;&#160;</a></span>set_thread_affinity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_thread_affinity </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>processor_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the current thread's processor affinity. </p>
<p>This is used by worker threads that should be pinned to a specific CPU.</p>
<p>Set the current thread's processor affinity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">processor_id</td><td>Logical processor index within group 0. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsocket__exception.html" title="Exception type thrown on socket-related failures.">socket_exception</a></td><td>if the processor id is out of range or setting the group affinity fails. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a583f687ec76654049acae67dc9d6288f" name="a583f687ec76654049acae67dc9d6288f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a583f687ec76654049acae67dc9d6288f">&#9670;&#160;</a></span>HEADER_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t HEADER_SIZE = sizeof(<a class="el" href="structpacket__header.html">packet_header</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Size of the packet header defined above. </p>

</div>
</div>
<a id="a152d6035510845597230205a9e09d606" name="a152d6035510845597230205a9e09d606"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a152d6035510845597230205a9e09d606">&#9670;&#160;</a></span>IOCP_SHUTDOWN_TIMEOUT_MS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr DWORD IOCP_SHUTDOWN_TIMEOUT_MS = 1000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timeout used specifically during shutdown checks on the IOCP. </p>

</div>
</div>
<a id="a4654d03c0934fb2f6dbf7eacb28c91a4" name="a4654d03c0934fb2f6dbf7eacb28c91a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4654d03c0934fb2f6dbf7eacb28c91a4">&#9670;&#160;</a></span>IOCP_TIMEOUT_MS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr DWORD IOCP_TIMEOUT_MS = 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timeout in milliseconds used when polling an IOCP for events. </p>

</div>
</div>
<a id="a9832c8b70a5297ecd72cdaae4a58d45d" name="a9832c8b70a5297ecd72cdaae4a58d45d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9832c8b70a5297ecd72cdaae4a58d45d">&#9670;&#160;</a></span>MAX_PACKET_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t MAX_PACKET_SIZE = 65507</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum UDP payload size (practical limit for IPv4/IPv6 datagrams). </p>

</div>
</div>
<a id="a9debea2742a938b16b6f5c125a6eaab8" name="a9debea2742a938b16b6f5c125a6eaab8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9debea2742a938b16b6f5c125a6eaab8">&#9670;&#160;</a></span>MAX_PAYLOAD_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t MAX_PAYLOAD_SIZE = <a class="el" href="socket__utils_8hpp.html#a9832c8b70a5297ecd72cdaae4a58d45d">MAX_PACKET_SIZE</a> - <a class="el" href="socket__utils_8hpp.html#a583f687ec76654049acae67dc9d6288f">HEADER_SIZE</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum application payload size after subtracting the header. </p>

</div>
</div>
<a id="a039f815ac1325125001b5632a11bde14" name="a039f815ac1325125001b5632a11bde14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a039f815ac1325125001b5632a11bde14">&#9670;&#160;</a></span>OUTSTANDING_OPS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t OUTSTANDING_OPS = 16</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of simultaneous outstanding asynchronous I/O operations per socket. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_fdedb0aba14d44ce9d99bc100e026e6a.html">common</a></li><li class="navelem"><a class="el" href="socket__utils_8hpp.html">socket_utils.hpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
